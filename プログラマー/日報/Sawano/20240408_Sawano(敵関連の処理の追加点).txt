Issue#75の内容を基に以下のように修正しました。①や②といった番号はIssueに沿った内容です。

①
・まとまった敵同士がぶつかった場合、まとめた数が多い方が吸収するようにしました。


・まとまった敵が止まっている時にまとまっていない敵がぶつかっても吸収しなくしました。

※また、どの程度の速度を以て「停止している」と判断するか、という変数を用意しているの
で、「停止判定」という値を調整して丁度いい値を見つけてください。参考にする値はRigidbody2D
のVelocityという値のx成分です。

*まとまった敵同士がぶつかった場合に、吸収の際、吸収される側が吸収していた数を吸収する側に足した方がいいのかもしれないので、ご検討を。
(例：3体吸収の敵と5体吸収の敵がぶつかった時に、6体吸収とするのか3+5で8体吸収とするのか)

・まとまった敵が動いていてかつ吸収した数が同じだった時の指定が無かったので暫定的に何も起こらないようにしました。

/////////////////////////////////////////////////////////////////////////////////////////////

まとまった敵関連なので先に③
・サイズの拡大を段階分けできるようにしました。S_EnemyBallの「大きさの段階と必要な吸収数」という項目から「何段階まで大きくできるか」、「各段階でどれだけ吸収する必要があるか」を設定できます。

*各段階でどれだけ大きくなるかを指定できた方がいいかもしれないので、必要であればIssue#75を閉じるときにでもコメントしてください。(今回は時間がなさそうなので早さ優先で)

/////////////////////////////////////////////////////////////////////////////////////////////

②
・敵キャラクターの前方にRayを飛ばして壁が当たった場合、方向転換するようにしました。

・敵キャラクターの足元にRayを飛ばして何も当たらなかった場合、方向転換するようにしました。

・方向転換の際に、慣性によって停止までに時間がかかっていた問題があったため、方向転換が決定した瞬間に速度を0にするようにしました。SEnemyMoveの「ピタッと止まる」にチェックを入れることでこれが機能するようになります。
現状少し違和感があるので摩擦を増やす方向で実装しなおす必要があるかもしれないです。

各Rayの調整もInspecterで調整できるようにしていますが、テストする上でやりやすかった値をデフォルト値に設定しています。(Rayの可視化にも対応しています。但しSceneViewでのみ)

②の修正に関してはSTestSceneの「Enemy (8)」「Enemy (9)」の挙動を見てもらえればわかりやすいと思います。


その他、やかましすぎて必要な情報が埋もれる原因になっていたDebug.Logを削除、またはコメントアウトしました。一応GitHubDesktopで確認しましたが、他の人が担当していたスクリプトにもこの操作を行ったため、もしかしたらどこかでやらかしているかもしれないです。

